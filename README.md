# Отработка JavaScript: Методы по работе с массивами

## Введение

Во время программирования мы часто работаем с коллекциями объектов: массивом телефонных номеров, списком имен, набором GPS-координат и т. д.

При работе с коллекциями объектов некоторые задачи являются очень распространенными. Например, мы часто перебираем массив, выполняя какие-нибудь операции с каждым элементом. Например, работая с массивом телефонных номеров, мы можем отправить текстовое сообщение на каждый номер телефона (см. Рис. 1).

```javascript
function sendText(number, message) {
  # Sends a text message to the number
}


let phoneNumbers = ["+14195558916", "+14195557849", "+14195559789"]

phoneNumbers.forEach(function(number) {
  sendText(number, "You will do better in Toledo")
}
```
*Рисунок 1*. Итерация через массив номеров телефона, и проведение операции с каждым номером


Итерация массива является одной из общих задач при работе с коллекцией. Какие ещё задачи должны выполняться? Часто нам требуется вытащить один или несколько предметов из массиве. Нам также может понадобиться найти определенный элемент, например, телефонный номер, заканчивающийся на 8916. Или мы можем выбрать подмножество элементов -  например, все номера телефонов из кода города 419.


### Перебирающие методы

Работа с коллекциями объектов настолько распространена, что JavaScript и многие другие языки предоставляют методы, позволяющие сделать эти задачи более удобными. Общий метод повторения - `.forEach`, который мы используем, когда хотим сделать какое-то действие с каждым элементом массива. Чтобы использовать `.forEach`, мы вызываем метод в массиве и передаем туда блок, который определяет, что мы хотим сделать для каждого элемента массива. Рисунок 1 является примером использования `.forEach`.

Метод `.forEach` - очень мощный инструмент, и мы можем использовать его для достижения любых целей при работе с массивом. Однако JavaScript также предоставляет методы, созданные специально для выполнения рядовых задач. Некоторые из этих методов определяются в самом классе `Array`. Использование этих методов обычно позволяет сделать код более кратким и понятным. 


## Releases

### Release 0: Напишите свои функции `map, filter, reduce, forEach, every, some, find` 
Давайте напишем собственные функции, которые выполняют то же самое, что и функции `map, filter, reduce, forEach, every, some, find`.
Откройте файл `codeYourMethods.js` и напишите свои функции.


### Release 1: Поиск элемента в массиве
Как было упомянуто в Введении, одной из задач при работе с массивом является
поиск определенного элемента: например, найти номер телефона, заканчивающийся на
8916, найти кандидата на работу с идентификатором 353687559 и т. д. Чтобы помочь нам
выполнить задачу для поиска элемента в массиве, есть метод [`.find`], который мы будем
использовать. Примеры использования `.find` можно увидеть на Рисунке 2.


```javascript
let numbers = [1, 2, 4, 5, 3, 9]

numbers.find(function(number){ return number > 4 })
=> 5
numbers.find(function(number){ return number % 2 === 0 })
=> 2
```
Рисунок 2. Поиск элемента в массиве.

В файле `find.js` у нас есть несколько методов, которые находят элемент в массиве. Проведите рефакторинг методов, чтобы использовать `.find()`.

### Release 2: Фильтрация массива

Иногда мы хотим найти один конкретный элемент в массиве. Например, мы хотим найти все предметы, соответствующие или не соответствующие условиям. Мы можем найти все номера телефонов из кода города 419, найти всех кандидатов на работу, которые не заполнили заявку целиком, и т. д.

Этот процесс часто называют фильтрацией. Для начала мы создаем фильтр, который описывает, как мы будем принимать решение по поводу того, какие элементы нас интересуют. Затем мы пропускаем каждый элемент в массиве через фильтр. Когда мы пройдем все элементы, мы получим новый массив, который состоит из прошедших через фильтр элементов.

`.filter()` - это метод JavaScript, который помогает нам фильтровать массив. `.filter()` возвращает новый массив, содержащий элементы, для которых фильтр вернул истинное значение. См. Рис. 3 в качестве примера.

```javascript
let numbers = [1, 5, 3, 8, 2]

numbers.filter(function(number){ return number < 5 })
=> [1, 3, 2]
numbers.filter(function(number){ return number % 2 === 0 })
=> [8, 2]
```
*Рисунок 3*. Фильтрация массива.

В файле `filter.js` у нас есть метод, который фильтрует массив. Выполните рефакторинг методов используя `.filter()`.

### Release 3:  Преобразование элементов массива

Другой общей задачей является преобразование элементов массива. Если у нас есть массив телефонных номеров, то мы можем преобразовать каждый из них в их код области/региона. Если у нас есть список номеров социального обеспечения, то мы можем преобразовать каждый из них в их последние четыре цифры.

Для решения этой задачи есть метод `.map()`. Метод возвращает новый массив. Новый массив содержит преобразованную версию каждого из исходных элементов. Блок, переданный методу, описывает, как выполнить преобразование. См. Рис. 4 в качестве примера.


```javascript
let numbers = [1, 4, 7, 3, 9]

numbers.map(function(number){ number ** 3 })
# => [1, 64, 343, 27, 729]

numbers.map(function(number){ number * -1 })
# => [-1, -4, -7, -3, -9]

numbers.map(function(number){ Math.sqrt(number) })
# => [1.0, 2.0, 2.6457513110645907, 1.7320508075688772, 3.0]
```
Рисунок 4. Отображение массива.

В файле `transform.js` содержится несколько методов, которые преобразуют элементы в массив. Выполните рефакторинг методов использования `.map()`.


### Release 4:  Агрегатирование элементов в массиве

Еще задача, которую мы рассмотрим - объединение элементов массива. Другими словами, использование элементов для построения объекта или значения. Если бы у нас был, например, массив цен, то мы могли бы объединить их в их общую сумму. Аналогичным образом - если бы у нас был массив строк, то мы могли бы объединить их в одну большую строку.

Один метод агрегирования, который предоставляет JavaScript - `.reduce()`. Существуют разные способы вызова `.reduce()`. Один из способов - передача начальной точки для объекта, который будет создан. Итак, если мы собираемся суммировать массив чисел, то мы можем взять ноль в качестве стартового значения. Мы также передаем функцию-callback. Она должна будет принять два аргумента (`previousResult, item`). См. Рис. 5 в качестве примера.


```javascript
let numbers = [1, 3, 6, 3, 9]

numbers.reduce(function(sum, number) { return sum + number }, 0)
# => 22
numbers.reduce(function(sum, number) { return sum + number }, 100)
# => 122
numbers.reduce(function(digits, number) { return digits + number.to_s }, "Digits: ")
#=> "Digits: 13639"
numbers.reduce(function(counts, number) {
	counts[number] += 1;
	return counts;
}, {})
```
*Рисунок 5.* Агрегация значений в массиве.

В файле `aggregate.js` мы располагаем несколькими методами, которые объединяют значения в массиве. Проведите рефакторинг (реорганизацию) методов использования `.reduce()`.


[MDN Array]:(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)
[Перебирающие методы]:(https://learn.javascript.ru/array-iteration)

